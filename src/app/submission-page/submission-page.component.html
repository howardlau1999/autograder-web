<div class="submission-report-container">
  <mat-tab-group>
    <mat-tab label="分数详情">
      <div class="tab-container">
        <mat-accordion class="testcase-accordion" multi>
          <mat-expansion-panel class="testcase-panel" *ngFor="let testcase of testcases; index as i" [id]="i">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <span
                  [class]="testcase.getScore() === testcase.getMaxScore()?'green-font' : 'red-font'">{{testcase.getName()}}
                  ({{testcase.getScore()}}/{{testcase.getMaxScore()}})
                </span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <code>
              <pre class="testcase-output">{{testcase.getOutput()}}</pre>
            </code>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-list class="testcase-list">
          <mat-list-item *ngFor="let testcase of testcases; index as i">
          <span
            [class]="testcase.getScore() === testcase.getMaxScore()?'green-font' : 'red-font'">{{testcase.getName()}}
            ({{testcase.getScore()}}/{{testcase.getMaxScore()}})
          </span>
          </mat-list-item>
        </mat-list>
      </div>
    </mat-tab>
    <mat-tab label="查看文件">
      <div class="files-tab-container">
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
            <button mat-icon-button disabled></button>
            <mat-icon class="type-icon" [attr.aria-label]="node.type + 'icon'">
              {{ node.type === 'file' ? 'description' : 'folder' }}
            </mat-icon>
            {{node.name}}
          </mat-tree-node>

          <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
            <button mat-icon-button matTreeNodeToggle
                    [attr.aria-label]="'Toggle ' + node.name">
              <mat-icon class="mat-icon-rtl-mirror">
                {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
              </mat-icon>
            </button>
            <mat-icon class="type-icon" [attr.aria-label]="node.type + 'icon'">
              {{ node.type === 'file' ? 'description' : 'folder' }}
            </mat-icon>
            {{node.name}}
          </mat-tree-node>
        </mat-tree>
      </div>
    </mat-tab>
    <mat-tab label="排行榜">
      <div class="leaderboard-tab-container">
        <app-leaderboard class="mat-elevation-z1"></app-leaderboard>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
